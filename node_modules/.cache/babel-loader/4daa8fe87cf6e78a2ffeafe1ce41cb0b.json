{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst react_1 = require(\"react\");\n\nclass Razorpay {\n  constructor(options) {\n    this.options = options;\n    if (typeof window !== \"undefined\") this.rzrpayInstannce = new window.Razorpay(this.options);\n  }\n\n  on(event, callback) {\n    this.rzrpayInstannce.on(event, callback);\n  }\n\n  open() {\n    this.rzrpayInstannce.open();\n  }\n\n}\n\nconst useRazorpay = () => {\n  /* Constants */\n  const RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n  const isClient = (0, react_1.useMemo)(() => typeof window !== \"undefined\", []);\n  const checkScriptLoaded = (0, react_1.useCallback)(() => {\n    if (!isClient || !(\"Razorpay\" in window)) return false;\n    return true;\n  }, []);\n  const loadScript = (0, react_1.useCallback)(scriptUrl => {\n    if (!isClient) return; // Don't execute this function if it's rendering on server side\n\n    return new Promise((resolve, reject) => {\n      const scriptTag = document.createElement(\"script\");\n      scriptTag.src = scriptUrl;\n\n      scriptTag.onload = ev => resolve(ev);\n\n      scriptTag.onerror = err => reject(err);\n\n      document.body.appendChild(scriptTag);\n    });\n  }, []);\n  (0, react_1.useEffect)(() => {\n    if (!checkScriptLoaded()) {\n      (() => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n          yield loadScript(RAZORPAY_SCRIPT);\n        } catch (error) {\n          throw new Error(error);\n        }\n      }))();\n    }\n  }, []);\n  return Razorpay;\n};\n\nexports.default = useRazorpay;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAsBA,MAAMA,QAAN,CAAc;EAIZC,YAAYC,OAAZ,EAAoC;IAClC,KAAKA,OAAL,GAAeA,OAAf;IACA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EACE,KAAKC,eAAL,GAAuB,IAAKD,MAAc,CAACH,QAApB,CAA6B,KAAKE,OAAlC,CAAvB;EACH;;EAEMG,EAAE,CAACC,KAAD,EAAgBC,QAAhB,EAAkC;IACzC,KAAKH,eAAL,CAAqBC,EAArB,CAAwBC,KAAxB,EAA+BC,QAA/B;EACD;;EAEMC,IAAI;IACT,KAAKJ,eAAL,CAAqBI,IAArB;EACD;;AAhBW;;AAmBd,MAAMC,WAAW,GAAG,MAAK;EACvB;EACA,MAAMC,eAAe,GAAG,8CAAxB;EAEA,MAAMC,QAAQ,GAAG,qBAAQ,MAAM,OAAOR,MAAP,KAAkB,WAAhC,EAA6C,EAA7C,CAAjB;EAEA,MAAMS,iBAAiB,GAAkB,yBAAY,MAAK;IACxD,IAAI,CAACD,QAAD,IAAa,EAAE,cAAcR,MAAhB,CAAjB,EAA0C,OAAO,KAAP;IAC1C,OAAO,IAAP;EACD,CAHwC,EAGtC,EAHsC,CAAzC;EAKA,MAAMU,UAAU,GAAG,yBAAaC,SAAD,IAAsB;IACnD,IAAI,CAACH,QAAL,EAAe,OADoC,CAC5B;;IACvB,OAAO,IAAII,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAoB;MACrC,MAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAlB;MACAF,SAAS,CAACG,GAAV,GAAgBP,SAAhB;;MACAI,SAAS,CAACI,MAAV,GAAoBC,EAAD,IAAQP,OAAO,CAACO,EAAD,CAAlC;;MACAL,SAAS,CAACM,OAAV,GAAqBC,GAAD,IAASR,MAAM,CAACQ,GAAD,CAAnC;;MACAN,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BT,SAA1B;IACD,CANM,CAAP;EAOD,CATkB,EAShB,EATgB,CAAnB;EAWA,uBAAU,MAAK;IACb,IAAI,CAACN,iBAAiB,EAAtB,EAA0B;MACxB,CAAC,MAAWgB;QACV,IAAI;UACF,MAAMf,UAAU,CAACH,eAAD,CAAhB;QACD,CAFD,CAEE,OAAOmB,KAAP,EAAmB;UACnB,MAAM,IAAIC,KAAJ,CAAUD,KAAV,CAAN;QACD;MACF,CANW,CAAZ;IAOD;EACF,CAVD,EAUG,EAVH;EAYA,OAAO7B,QAAP;AACD,CAnCD;;AAqCA+B,kBAAetB,WAAf","names":["Razorpay","constructor","options","window","rzrpayInstannce","on","event","callback","open","useRazorpay","RAZORPAY_SCRIPT","isClient","checkScriptLoaded","loadScript","scriptUrl","Promise","resolve","reject","scriptTag","document","createElement","src","onload","ev","onerror","err","body","appendChild","__awaiter","error","Error","exports"],"sourceRoot":"","sources":["../src/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}