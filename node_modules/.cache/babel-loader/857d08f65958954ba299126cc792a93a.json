{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"A:\\\\package\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nvar _classCallCheck = require(\"A:\\\\package\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"A:\\\\package\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar Razorpay = /*#__PURE__*/function () {\n  function Razorpay(options) {\n    _classCallCheck(this, Razorpay);\n\n    this.options = options;\n    if (typeof window !== \"undefined\") this.rzrpayInstannce = new window.Razorpay(this.options);\n  }\n\n  _createClass(Razorpay, [{\n    key: \"on\",\n    value: function on(event, callback) {\n      this.rzrpayInstannce.on(event, callback);\n    }\n  }, {\n    key: \"open\",\n    value: function open() {\n      this.rzrpayInstannce.open();\n    }\n  }]);\n\n  return Razorpay;\n}();\n\nvar useRazorpay = function useRazorpay() {\n  /* Constants */\n  var RAZORPAY_SCRIPT = \"https://checkout.razorpay.com/v1/checkout.js\";\n  var isClient = (0, react_1.useMemo)(function () {\n    return typeof window !== \"undefined\";\n  }, []);\n  var checkScriptLoaded = (0, react_1.useCallback)(function () {\n    if (!isClient || !(\"Razorpay\" in window)) return false;\n    return true;\n  }, []);\n  var loadScript = (0, react_1.useCallback)(function (scriptUrl) {\n    if (!isClient) return; // Don't execute this function if it's rendering on server side\n\n    return new Promise(function (resolve, reject) {\n      var scriptTag = document.createElement(\"script\");\n      scriptTag.src = scriptUrl;\n\n      scriptTag.onload = function (ev) {\n        return resolve(ev);\n      };\n\n      scriptTag.onerror = function (err) {\n        return reject(err);\n      };\n\n      document.body.appendChild(scriptTag);\n    });\n  }, []);\n  (0, react_1.useEffect)(function () {\n    if (!checkScriptLoaded()) {\n      (function () {\n        return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.prev = 0;\n                  _context.next = 3;\n                  return loadScript(RAZORPAY_SCRIPT);\n\n                case 3:\n                  _context.next = 8;\n                  break;\n\n                case 5:\n                  _context.prev = 5;\n                  _context.t0 = _context[\"catch\"](0);\n                  throw new Error(_context.t0);\n\n                case 8:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, null, [[0, 5]]);\n        }));\n      })();\n    }\n  }, []);\n  return Razorpay;\n};\n\nexports.default = useRazorpay;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;IAsBMA,Q;EAIJ,kBAAYC,OAAZ,EAAoC;IAAA;;IAClC,KAAKA,OAAL,GAAeA,OAAf;IACA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EACE,KAAKC,eAAL,GAAuB,IAAKD,MAAc,CAACF,QAApB,CAA6B,KAAKC,OAAlC,CAAvB;EACH;;;;WAEM,YAAGG,KAAH,EAAkBC,QAAlB,EAAoC;MACzC,KAAKF,eAAL,CAAqBG,EAArB,CAAwBF,KAAxB,EAA+BC,QAA/B;IACD;;;WAEM,gBAAI;MACT,KAAKF,eAAL,CAAqBI,IAArB;IACD;;;;;;AAGH,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAK;EACvB;EACA,IAAMC,eAAe,GAAG,8CAAxB;EAEA,IAAMC,QAAQ,GAAG,qBAAQ;IAAA,OAAM,OAAOR,MAAP,KAAkB,WAAxB;EAAA,CAAR,EAA6C,EAA7C,CAAjB;EAEA,IAAMS,iBAAiB,GAAkB,yBAAY,YAAK;IACxD,IAAI,CAACD,QAAD,IAAa,EAAE,cAAcR,MAAhB,CAAjB,EAA0C,OAAO,KAAP;IAC1C,OAAO,IAAP;EACD,CAHwC,EAGtC,EAHsC,CAAzC;EAKA,IAAMU,UAAU,GAAG,yBAAY,UAACC,SAAD,EAAsB;IACnD,IAAI,CAACH,QAAL,EAAe,OADoC,CAC5B;;IACvB,OAAO,IAAII,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAoB;MACrC,IAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAlB;MACAF,SAAS,CAACG,GAAV,GAAgBP,SAAhB;;MACAI,SAAS,CAACI,MAAV,GAAmB,UAACC,EAAD;QAAA,OAAQP,OAAO,CAACO,EAAD,CAAf;MAAA,CAAnB;;MACAL,SAAS,CAACM,OAAV,GAAoB,UAACC,GAAD;QAAA,OAASR,MAAM,CAACQ,GAAD,CAAf;MAAA,CAApB;;MACAN,QAAQ,CAACO,IAAT,CAAcC,WAAd,CAA0BT,SAA1B;IACD,CANM,CAAP;EAOD,CATkB,EAShB,EATgB,CAAnB;EAWA,uBAAU,YAAK;IACb,IAAI,CAACN,iBAAiB,EAAtB,EAA0B;MACxB,CAAC;QAAA,OAAWgB;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA;kBAER,OAAMf,UAAU,CAACH,eAAD,CAAhB;;gBAFQ;kBAAA;kBAAA;;gBAAA;kBAAA;kBAAA;kBAAA,MAIF,IAAImB,KAAJ,aAJE;;gBAAA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA,GAAX;MAAA,CAAD;IAOD;EACF,CAVD,EAUG,EAVH;EAYA,OAAO5B,QAAP;AACD,CAnCD;;AAqCA6B,kBAAerB,WAAf","names":["Razorpay","options","window","rzrpayInstannce","event","callback","on","open","useRazorpay","RAZORPAY_SCRIPT","isClient","checkScriptLoaded","loadScript","scriptUrl","Promise","resolve","reject","scriptTag","document","createElement","src","onload","ev","onerror","err","body","appendChild","__awaiter","Error","exports"],"sourceRoot":"","sources":["../src/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}